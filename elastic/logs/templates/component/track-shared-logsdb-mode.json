{
    "template": {
      "settings": {
        {% if index_mode %}
        "index": {
            "mode": {{ index_mode | tojson }},
            "sort.field": [ "host.name", "@timestamp" ],
            "sort.order": [ "asc", "desc" ],
            "sort.missing": ["_first", "_last"],
            "routing_path": ["host.name", "kubernetes.pod.uid", "kubernetes.node.name", "kubernetes.container.name", "log.file.path", "log.offset"]
        }
        {% endif %}
      }
    }
  }